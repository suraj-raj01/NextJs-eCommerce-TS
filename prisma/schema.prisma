generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model AddCategory {
  id         BigInt   @id(map: "Category_pkey") @default(autoincrement())
  catename   String
  cateurl    String?
  created_at DateTime @default(now()) @db.Timestamptz(6)
}

model Product {
  id              Int      @id @default(autoincrement())
  proname         String
  protitle        String
  proprice        Int
  prodesc         String
  proCategory     String
  proinfo         String
  samedaydelivery String?  @default("no")
  approve         String?  @default("no")
  proimgurl       String
  type            String
  vendorId        Int
  createdAt       DateTime @default(now())
  vendor          Vendor   @relation("VendorToProduct", fields: [vendorId], references: [id])
}

model Vendor {
  id         Int       @id @default(autoincrement())
  role       String
  name       String
  email      String
  contact    String
  status     String?   @default("pending")
  password   String
  created_at DateTime  @default(now()) @db.Timestamptz(6)
  products   Product[] @relation("VendorToProduct")
}

model Admin {
  id         BigInt   @id @default(autoincrement())
  role       String
  name       String
  email      String
  contact    String
  status     String?  @default("pending")
  password   String
  created_at DateTime @default(now()) @db.Timestamptz(6)
}

model Order {
  id                Int      @id @default(autoincrement())
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  userName          String
  userEmail         String
  phoneNumber       String
  address           String
  pincode           String
  products          Json
  amount            Int
  razorpayOrderId   String
  razorpayPaymentId String
  razorpaySignature String
  paymentStatus     String   @default("pending")
}
